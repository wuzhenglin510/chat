(function(e){function t(t){for(var a,s,n=t[0],u=t[1],p=t[2],d=0,l=[];d<n.length;d++)s=n[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&l.push(o[s][0]),o[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(l.length)l.shift()();return i.push.apply(i,p||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,n=1;n<r.length;n++){var u=r[n];0!==o[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={app:0},i=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],u=n.push.bind(n);n.push=t,n=n.slice();for(var p=0;p<n.length;p++)t(n[p]);var c=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("85ec"),o=r.n(a);o.a},"31f2":function(e,t,r){"use strict";var a=r("ebce"),o=r.n(a);o.a},"3b90":function(e,t,r){var a=r("8513"),o=a,i=Function("return this")();o.exportSymbol("proto.data.Message",null,i),proto.data.Message=function(e){a.Message.initialize(this,e,0,-1,proto.data.Message.repeatedFields_,null)},o.inherits(proto.data.Message,a.Message),o.DEBUG&&!COMPILED&&(proto.data.Message.displayName="proto.data.Message"),proto.data.Message.repeatedFields_=[3],a.Message.GENERATE_TO_OBJECT&&(proto.data.Message.prototype.toObject=function(e){return proto.data.Message.toObject(e,this)},proto.data.Message.toObject=function(e,t){var r,o={uid:a.Message.getFieldWithDefault(t,1,""),sendtime:a.Message.getFieldWithDefault(t,2,0),topicsList:null==(r=a.Message.getRepeatedField(t,3))?void 0:r,content:a.Message.getFieldWithDefault(t,4,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.data.Message.deserializeBinary=function(e){var t=new a.BinaryReader(e),r=new proto.data.Message;return proto.data.Message.deserializeBinaryFromReader(r,t)},proto.data.Message.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var a=t.readString();e.setUid(a);break;case 2:a=t.readFixed64();e.setSendtime(a);break;case 3:a=t.readString();e.addTopics(a);break;case 4:a=t.readString();e.setContent(a);break;default:t.skipField();break}}return e},proto.data.Message.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return proto.data.Message.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.data.Message.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getUid(),r.length>0&&t.writeString(1,r),r=e.getSendtime(),0!==r&&t.writeFixed64(2,r),r=e.getTopicsList(),r.length>0&&t.writeRepeatedString(3,r),r=e.getContent(),r.length>0&&t.writeString(4,r)},proto.data.Message.prototype.getUid=function(){return a.Message.getFieldWithDefault(this,1,"")},proto.data.Message.prototype.setUid=function(e){return a.Message.setProto3StringField(this,1,e)},proto.data.Message.prototype.getSendtime=function(){return a.Message.getFieldWithDefault(this,2,0)},proto.data.Message.prototype.setSendtime=function(e){return a.Message.setProto3IntField(this,2,e)},proto.data.Message.prototype.getTopicsList=function(){return a.Message.getRepeatedField(this,3)},proto.data.Message.prototype.setTopicsList=function(e){return a.Message.setField(this,3,e||[])},proto.data.Message.prototype.addTopics=function(e,t){return a.Message.addToRepeatedField(this,3,e,t)},proto.data.Message.prototype.clearTopicsList=function(){return this.setTopicsList([])},proto.data.Message.prototype.getContent=function(){return a.Message.getFieldWithDefault(this,4,"")},proto.data.Message.prototype.setContent=function(e){return a.Message.setProto3StringField(this,4,e)},o.object.extend(t,proto.data)},"56d7":function(e,t,r){"use strict";r.r(t);var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("HelloWorld")],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-container",{staticClass:"el-container",staticStyle:{"box-shadow":"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}},[r("el-header",{staticClass:"el-header"},[e._v(" 聊天窗口 ")]),r("el-main",{domProps:{innerHTML:e._s(e.msg)}}),r("el-footer",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:19}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.sending,callback:function(t){e.sending=t},expression:"sending"}})],1),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSend}},[e._v("发送")])],1)],1)],1)],1)],1)},n=[],u=r("a690"),p={name:"HelloWorld",props:{},data:function(){return{ws:null,sending:"",msg:""}},methods:{onSend:function(){this.msg=this.msg+"</br>我发: "+this.sending;let e=new u.ChatPack;e.setType(u.ChatPack.Type.SUBSCRIBE);let t=new u.data.Message;t.setUid("123456"),t.setSendtime((new Date).getTime()),t.addTopics("room1"),t.setContent(this.sending),e.setMessage(t);let r=e.serializeBinary();this.ws.send(r),this.sending=""}},mounted:function(){this.ws=new WebSocket("ws://localhost:9001/ws");let e=this;this.ws.onopen=function(){let t=new u.ChatPack;t.setType(u.ChatPack.Type.SUBSCRIBE);let r=new u.data.Subscribe;r.setUid("123456"),r.addTopics("room1"),r.setTicket("roomTicket"),t.setSubscribe(r);let a=t.serializeBinary();e.ws.send(a)},this.ws.onmessage=function(t){t.data;let r=new FileReader;r.readAsArrayBuffer(t.data),r.onload=function(t){var a=new Uint8Array(r.result);let o=u.ChatPack.deserializeBinary(a);o.getDataCase()==u.ChatPack.DataCase.MESSAGE&&(e.msg=e.msg+"</br>收到: "+o.getMessage().getContent())}},this.ws.onclose=function(){alert("连接已关闭...")}}},c=p,d=(r("31f2"),r("2877")),l=Object(d["a"])(c,s,n,!1,null,null,null),g=l.exports,b={name:"App",components:{HelloWorld:g}},f=b,h=(r("034f"),Object(d["a"])(f,o,i,!1,null,null,null)),y=h.exports,S=r("5c96"),M=r.n(S);r("0fae");a["default"].config.productionTip=!1,a["default"].use(M.a),new a["default"]({render:e=>e(y)}).$mount("#app")},"5bd5":function(e,t,r){var a=r("8513"),o=a,i=Function("return this")();o.exportSymbol("proto.data.Subscribe",null,i),proto.data.Subscribe=function(e){a.Message.initialize(this,e,0,-1,proto.data.Subscribe.repeatedFields_,null)},o.inherits(proto.data.Subscribe,a.Message),o.DEBUG&&!COMPILED&&(proto.data.Subscribe.displayName="proto.data.Subscribe"),proto.data.Subscribe.repeatedFields_=[2],a.Message.GENERATE_TO_OBJECT&&(proto.data.Subscribe.prototype.toObject=function(e){return proto.data.Subscribe.toObject(e,this)},proto.data.Subscribe.toObject=function(e,t){var r,o={uid:a.Message.getFieldWithDefault(t,1,""),topicsList:null==(r=a.Message.getRepeatedField(t,2))?void 0:r,ticket:a.Message.getFieldWithDefault(t,3,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.data.Subscribe.deserializeBinary=function(e){var t=new a.BinaryReader(e),r=new proto.data.Subscribe;return proto.data.Subscribe.deserializeBinaryFromReader(r,t)},proto.data.Subscribe.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var a=t.readString();e.setUid(a);break;case 2:a=t.readString();e.addTopics(a);break;case 3:a=t.readString();e.setTicket(a);break;default:t.skipField();break}}return e},proto.data.Subscribe.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return proto.data.Subscribe.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.data.Subscribe.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getUid(),r.length>0&&t.writeString(1,r),r=e.getTopicsList(),r.length>0&&t.writeRepeatedString(2,r),r=e.getTicket(),r.length>0&&t.writeString(3,r)},proto.data.Subscribe.prototype.getUid=function(){return a.Message.getFieldWithDefault(this,1,"")},proto.data.Subscribe.prototype.setUid=function(e){return a.Message.setProto3StringField(this,1,e)},proto.data.Subscribe.prototype.getTopicsList=function(){return a.Message.getRepeatedField(this,2)},proto.data.Subscribe.prototype.setTopicsList=function(e){return a.Message.setField(this,2,e||[])},proto.data.Subscribe.prototype.addTopics=function(e,t){return a.Message.addToRepeatedField(this,2,e,t)},proto.data.Subscribe.prototype.clearTopicsList=function(){return this.setTopicsList([])},proto.data.Subscribe.prototype.getTicket=function(){return a.Message.getFieldWithDefault(this,3,"")},proto.data.Subscribe.prototype.setTicket=function(e){return a.Message.setProto3StringField(this,3,e)},o.object.extend(t,proto.data)},"5f6c":function(e,t,r){var a=r("8513"),o=a,i=Function("return this")();o.exportSymbol("proto.data.Result",null,i),proto.data.Result=function(e){a.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.data.Result,a.Message),o.DEBUG&&!COMPILED&&(proto.data.Result.displayName="proto.data.Result"),a.Message.GENERATE_TO_OBJECT&&(proto.data.Result.prototype.toObject=function(e){return proto.data.Result.toObject(e,this)},proto.data.Result.toObject=function(e,t){var r={uid:a.Message.getFieldWithDefault(t,1,""),succeed:a.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.data.Result.deserializeBinary=function(e){var t=new a.BinaryReader(e),r=new proto.data.Result;return proto.data.Result.deserializeBinaryFromReader(r,t)},proto.data.Result.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var a=t.readString();e.setUid(a);break;case 2:a=t.readBool();e.setSucceed(a);break;default:t.skipField();break}}return e},proto.data.Result.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return proto.data.Result.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.data.Result.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getUid(),r.length>0&&t.writeString(1,r),r=e.getSucceed(),r&&t.writeBool(2,r)},proto.data.Result.prototype.getUid=function(){return a.Message.getFieldWithDefault(this,1,"")},proto.data.Result.prototype.setUid=function(e){return a.Message.setProto3StringField(this,1,e)},proto.data.Result.prototype.getSucceed=function(){return a.Message.getBooleanFieldWithDefault(this,2,!1)},proto.data.Result.prototype.setSucceed=function(e){return a.Message.setProto3BooleanField(this,2,e)},o.object.extend(t,proto.data)},"85ec":function(e,t,r){},a690:function(e,t,r){var a=r("8513"),o=a,i=Function("return this")(),s=r("3b90");o.object.extend(proto,s);var n=r("5bd5");o.object.extend(proto,n);var u=r("f13e");o.object.extend(proto,u);var p=r("5f6c");o.object.extend(proto,p),o.exportSymbol("proto.ChatPack",null,i),o.exportSymbol("proto.ChatPack.DataCase",null,i),o.exportSymbol("proto.ChatPack.Type",null,i),proto.ChatPack=function(e){a.Message.initialize(this,e,0,-1,null,proto.ChatPack.oneofGroups_)},o.inherits(proto.ChatPack,a.Message),o.DEBUG&&!COMPILED&&(proto.ChatPack.displayName="proto.ChatPack"),proto.ChatPack.oneofGroups_=[[3,4,5,6]],proto.ChatPack.DataCase={DATA_NOT_SET:0,SUBSCRIBE:3,UNSUBSCRIBE:4,MESSAGE:5,RESULT:6},proto.ChatPack.prototype.getDataCase=function(){return a.Message.computeOneofCase(this,proto.ChatPack.oneofGroups_[0])},a.Message.GENERATE_TO_OBJECT&&(proto.ChatPack.prototype.toObject=function(e){return proto.ChatPack.toObject(e,this)},proto.ChatPack.toObject=function(e,t){var r,o={type:a.Message.getFieldWithDefault(t,1,0),subscribe:(r=t.getSubscribe())&&n.Subscribe.toObject(e,r),unsubscribe:(r=t.getUnsubscribe())&&u.UnSubscribe.toObject(e,r),message:(r=t.getMessage())&&s.Message.toObject(e,r),result:(r=t.getResult())&&p.Result.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.ChatPack.deserializeBinary=function(e){var t=new a.BinaryReader(e),r=new proto.ChatPack;return proto.ChatPack.deserializeBinaryFromReader(r,t)},proto.ChatPack.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var a=t.readEnum();e.setType(a);break;case 3:a=new n.Subscribe;t.readMessage(a,n.Subscribe.deserializeBinaryFromReader),e.setSubscribe(a);break;case 4:a=new u.UnSubscribe;t.readMessage(a,u.UnSubscribe.deserializeBinaryFromReader),e.setUnsubscribe(a);break;case 5:a=new s.Message;t.readMessage(a,s.Message.deserializeBinaryFromReader),e.setMessage(a);break;case 6:a=new p.Result;t.readMessage(a,p.Result.deserializeBinaryFromReader),e.setResult(a);break;default:t.skipField();break}}return e},proto.ChatPack.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return proto.ChatPack.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ChatPack.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getType(),0!==r&&t.writeEnum(1,r),r=e.getSubscribe(),null!=r&&t.writeMessage(3,r,n.Subscribe.serializeBinaryToWriter),r=e.getUnsubscribe(),null!=r&&t.writeMessage(4,r,u.UnSubscribe.serializeBinaryToWriter),r=e.getMessage(),null!=r&&t.writeMessage(5,r,s.Message.serializeBinaryToWriter),r=e.getResult(),null!=r&&t.writeMessage(6,r,p.Result.serializeBinaryToWriter)},proto.ChatPack.Type={PING:0,PONG:1,SUBSCRIBE:2,UNSUBSCRIBE:3,MESSAGE:4,RESULT:5},proto.ChatPack.prototype.getType=function(){return a.Message.getFieldWithDefault(this,1,0)},proto.ChatPack.prototype.setType=function(e){return a.Message.setProto3EnumField(this,1,e)},proto.ChatPack.prototype.getSubscribe=function(){return a.Message.getWrapperField(this,n.Subscribe,3)},proto.ChatPack.prototype.setSubscribe=function(e){return a.Message.setOneofWrapperField(this,3,proto.ChatPack.oneofGroups_[0],e)},proto.ChatPack.prototype.clearSubscribe=function(){return this.setSubscribe(void 0)},proto.ChatPack.prototype.hasSubscribe=function(){return null!=a.Message.getField(this,3)},proto.ChatPack.prototype.getUnsubscribe=function(){return a.Message.getWrapperField(this,u.UnSubscribe,4)},proto.ChatPack.prototype.setUnsubscribe=function(e){return a.Message.setOneofWrapperField(this,4,proto.ChatPack.oneofGroups_[0],e)},proto.ChatPack.prototype.clearUnsubscribe=function(){return this.setUnsubscribe(void 0)},proto.ChatPack.prototype.hasUnsubscribe=function(){return null!=a.Message.getField(this,4)},proto.ChatPack.prototype.getMessage=function(){return a.Message.getWrapperField(this,s.Message,5)},proto.ChatPack.prototype.setMessage=function(e){return a.Message.setOneofWrapperField(this,5,proto.ChatPack.oneofGroups_[0],e)},proto.ChatPack.prototype.clearMessage=function(){return this.setMessage(void 0)},proto.ChatPack.prototype.hasMessage=function(){return null!=a.Message.getField(this,5)},proto.ChatPack.prototype.getResult=function(){return a.Message.getWrapperField(this,p.Result,6)},proto.ChatPack.prototype.setResult=function(e){return a.Message.setOneofWrapperField(this,6,proto.ChatPack.oneofGroups_[0],e)},proto.ChatPack.prototype.clearResult=function(){return this.setResult(void 0)},proto.ChatPack.prototype.hasResult=function(){return null!=a.Message.getField(this,6)},o.object.extend(t,proto)},ebce:function(e,t,r){},f13e:function(e,t,r){var a=r("8513"),o=a,i=Function("return this")();o.exportSymbol("proto.data.UnSubscribe",null,i),proto.data.UnSubscribe=function(e){a.Message.initialize(this,e,0,-1,proto.data.UnSubscribe.repeatedFields_,null)},o.inherits(proto.data.UnSubscribe,a.Message),o.DEBUG&&!COMPILED&&(proto.data.UnSubscribe.displayName="proto.data.UnSubscribe"),proto.data.UnSubscribe.repeatedFields_=[2],a.Message.GENERATE_TO_OBJECT&&(proto.data.UnSubscribe.prototype.toObject=function(e){return proto.data.UnSubscribe.toObject(e,this)},proto.data.UnSubscribe.toObject=function(e,t){var r,o={uid:a.Message.getFieldWithDefault(t,1,""),topicsList:null==(r=a.Message.getRepeatedField(t,2))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.data.UnSubscribe.deserializeBinary=function(e){var t=new a.BinaryReader(e),r=new proto.data.UnSubscribe;return proto.data.UnSubscribe.deserializeBinaryFromReader(r,t)},proto.data.UnSubscribe.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var a=t.readString();e.setUid(a);break;case 2:a=t.readString();e.addTopics(a);break;default:t.skipField();break}}return e},proto.data.UnSubscribe.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return proto.data.UnSubscribe.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.data.UnSubscribe.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getUid(),r.length>0&&t.writeString(1,r),r=e.getTopicsList(),r.length>0&&t.writeRepeatedString(2,r)},proto.data.UnSubscribe.prototype.getUid=function(){return a.Message.getFieldWithDefault(this,1,"")},proto.data.UnSubscribe.prototype.setUid=function(e){return a.Message.setProto3StringField(this,1,e)},proto.data.UnSubscribe.prototype.getTopicsList=function(){return a.Message.getRepeatedField(this,2)},proto.data.UnSubscribe.prototype.setTopicsList=function(e){return a.Message.setField(this,2,e||[])},proto.data.UnSubscribe.prototype.addTopics=function(e,t){return a.Message.addToRepeatedField(this,2,e,t)},proto.data.UnSubscribe.prototype.clearTopicsList=function(){return this.setTopicsList([])},o.object.extend(t,proto.data)}});
//# sourceMappingURL=app.73b0cf39.js.map